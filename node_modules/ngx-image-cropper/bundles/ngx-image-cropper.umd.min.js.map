{"version":3,"file":"ngx-image-cropper.umd.min.js","sources":["~/ngx-image-cropper/src/image-cropper.component.ts","~/ngx-image-cropper/src/image-cropper.module.ts"],"sourcesContent":["import {\n    Component, ElementRef, EventEmitter, HostListener, Input, OnChanges, Output, SimpleChanges, ChangeDetectorRef, ChangeDetectionStrategy\n} from '@angular/core';\nimport { DomSanitizer, SafeUrl, SafeStyle } from '@angular/platform-browser';\n\ninterface MoveStart {\n    active: boolean;\n    type: string | null;\n    position: string | null;\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n    clientX: number;\n    clientY: number;\n}\n\ninterface Dimensions {\n    width: number;\n    height: number;\n}\n\nexport interface CropperPosition {\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n}\nexport class ImageCropperComponent implements OnChanges {\nprivate originalImage: any;\nprivate moveStart: MoveStart;\nprivate maxSize: Dimensions;\nprivate originalSize: Dimensions;\n\n    safeImgDataUrl: SafeUrl | string;\n    marginLeft: SafeStyle | string = '0px';\n    imageVisible = false;\n/**\n * @param {?} event\n * @return {?}\n */\nset imageChangedEvent(event: any) {\n        this.initCropper();\n        if (event && event.target && event.target.files && event.target.files.length > 0) {\n            this.loadImage(event);\n        }\n    }\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nset imageBase64(imageBase64: string) {\n        this.initCropper();\n        this.loadBase64Image(imageBase64);\n    }\n\n     format: 'png' | 'jpeg' | 'bmp' | 'webp' | 'ico' = 'png';\n     maintainAspectRatio = true;\n     aspectRatio = 1;\n     resizeToWidth = 0;\n     onlyScaleDown = false;\n     imageQuality = 92;\n     cropper: CropperPosition = {\n        x1: -100,\n        y1: -100,\n        x2: 10000,\n        y2: 10000\n    };\n\n     imageCropped = new EventEmitter<string>();\n     imageLoaded = new EventEmitter<void>();\n     loadImageFailed = new EventEmitter<void>();\n/**\n * @param {?} elementRef\n * @param {?} sanitizer\n * @param {?} cd\n */\nconstructor(private elementRef: ElementRef,\nprivate sanitizer: DomSanitizer,\nprivate cd: ChangeDetectorRef) {\n        this.initCropper();\n    }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n        if (changes['cropper']) {\n            setTimeout(() => {\n                this.setMaxSize();\n                this.checkCropperPosition(false);\n                this.crop();\n                this.cd.markForCheck();\n            });\n        }\n    }\n/**\n * @return {?}\n */\nprivate initCropper() {\n        this.imageVisible = false;\n        this.originalImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.originalSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nloadImage(event: any) {\n        const /** @type {?} */ fileReader = new FileReader();\n        fileReader.onload = (ev: any) => {\n            if (event.target.files[0].type === 'image/jpeg' ||\n                event.target.files[0].type === 'image/jpg' ||\n                event.target.files[0].type === 'image/png' ||\n                event.target.files[0].type === 'image/gif') {\n                this.loadBase64Image(ev.target.result);\n            } else {\n                this.loadImageFailed.emit();\n            }\n        };\n        fileReader.readAsDataURL(event.target.files[0]);\n    }\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nprivate loadBase64Image(imageBase64: string) {\n        this.originalImage = new Image();\n        this.originalImage.onload = () => {\n            this.originalSize.width = this.originalImage.width;\n            this.originalSize.height = this.originalImage.height;\n            this.cd.markForCheck();\n        };\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(imageBase64);\n        this.originalImage.src = imageBase64;\n    }\n/**\n * @return {?}\n */\nimageLoadedInView(): void {\n        if (this.originalImage != null) {\n            this.imageLoaded.emit();\n            setTimeout(() => {\n                this.setMaxSize();\n                this.resetCropperPosition();\n                this.cd.markForCheck();\n            });\n        }\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nimageResizedInView(event: Event) {\n        this.resizeCropperPosition();\n        this.setMaxSize();\n    }\n/**\n * @return {?}\n */\nprivate resizeCropperPosition() {\n        const /** @type {?} */ displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n        if (this.maxSize.width !== displayedImage.offsetWidth || this.maxSize.height !== displayedImage.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * displayedImage.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * displayedImage.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * displayedImage.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * displayedImage.offsetHeight / this.maxSize.height;\n        }\n    }\n/**\n * @return {?}\n */\nprivate resetCropperPosition() {\n        const /** @type {?} */ displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n        if (displayedImage.offsetWidth / this.aspectRatio < displayedImage.offsetHeight) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = displayedImage.offsetWidth;\n            const /** @type {?} */ cropperHeight = displayedImage.offsetWidth / this.aspectRatio;\n            this.cropper.y1 = (displayedImage.offsetHeight - cropperHeight) / 2;\n            this.cropper.y2 = this.cropper.y1 + cropperHeight;\n        } else {\n            this.cropper.y1 = 0;\n            this.cropper.y2 = displayedImage.offsetHeight;\n            const /** @type {?} */ cropperWidth = displayedImage.offsetHeight * this.aspectRatio;\n            this.cropper.x1 = (displayedImage.offsetWidth - cropperWidth) / 2;\n            this.cropper.x2 = this.cropper.x1 + cropperWidth;\n        }\n        this.crop();\n        this.imageVisible = true;\n    }\n/**\n * @param {?} event\n * @param {?} moveType\n * @param {?=} position\n * @return {?}\n */\nstartMove(event: any, moveType: string, position: string | null = null) {\n        this.moveStart.active = true;\n        this.moveStart.type = moveType;\n        this.moveStart.position = position;\n        this.moveStart.clientX = this.getClientX(event);\n        this.moveStart.clientY = this.getClientY(event);\n        Object.assign(this.moveStart, this.cropper);\n        this.cd.markForCheck();\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nmoveImg(event: any) {\n        if (this.moveStart.active) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.setMaxSize();\n            if (this.moveStart.type === 'move') {\n                this.move(event);\n                this.checkCropperPosition(true);\n            } else if (this.moveStart.type === 'resize') {\n                this.resize(event);\n                this.checkCropperPosition(false);\n            }\n            this.cd.markForCheck();\n        }\n    }\n/**\n * @return {?}\n */\nprivate setMaxSize() {\n        const /** @type {?} */ el = this.elementRef.nativeElement.querySelector('.source-image');\n        this.maxSize.width = el.offsetWidth;\n        this.maxSize.height = el.offsetHeight;\n        this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n    }\n/**\n * @param {?=} maintainSize\n * @return {?}\n */\nprivate checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nmoveStop(event: any) {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.crop();\n            this.cd.markForCheck();\n        }\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate move(event: any) {\n        const /** @type {?} */ diffX = this.getClientX(event) - this.moveStart.clientX;\n        const /** @type {?} */ diffY = this.getClientY(event) - this.moveStart.clientY;\n\n        this.cropper.x1 = this.moveStart.x1 + diffX;\n        this.cropper.y1 = this.moveStart.y1 + diffY;\n        this.cropper.x2 = this.moveStart.x2 + diffX;\n        this.cropper.y2 = this.moveStart.y2 + diffY;\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate resize(event: any) {\n        const /** @type {?} */ diffX = this.getClientX(event) - this.moveStart.clientX;\n        const /** @type {?} */ diffY = this.getClientY(event) - this.moveStart.clientY;\n        switch (this.moveStart.position) {\n            case 'left':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n                break;\n            case 'topleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n                break;\n            case 'top':\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n                break;\n            case 'topright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n                break;\n            case 'right':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n                break;\n            case 'bottomright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n                break;\n            case 'bottom':\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n                break;\n            case 'bottomleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n                break;\n        }\n\n        if (this.maintainAspectRatio) {\n            this.checkAspectRatio();\n        }\n    }\n/**\n * @return {?}\n */\nprivate checkAspectRatio() {\n        let /** @type {?} */ overflowX = 0;\n        let /** @type {?} */ overflowY = 0;\n\n        switch (this.moveStart.position) {\n            case 'top':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : (overflowX / this.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'topright':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n        }\n    }\n/**\n * @return {?}\n */\nprivate crop() {\n        const /** @type {?} */ displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n        if (displayedImage && this.originalImage != null) {\n            const /** @type {?} */ ratio = this.originalSize.width / displayedImage.offsetWidth;\n            const /** @type {?} */ left = Math.round(this.cropper.x1 * ratio);\n            const /** @type {?} */ top = Math.round(this.cropper.y1 * ratio);\n            const /** @type {?} */ width = Math.round((this.cropper.x2 - this.cropper.x1) * ratio);\n            const /** @type {?} */ height = Math.round((this.cropper.y2 - this.cropper.y1) * ratio);\n            const /** @type {?} */ resizeRatio = this.getResizeRatio(width);\n            const /** @type {?} */ cropCanvas = /** @type {?} */(( document.createElement('canvas') as HTMLCanvasElement));\n            cropCanvas.width = width * resizeRatio;\n            cropCanvas.height = height * resizeRatio;\n            const /** @type {?} */ ctx = cropCanvas.getContext('2d');\n            if (ctx) {\n                ctx.drawImage(this.originalImage, left, top, width, height, 0, 0, width * resizeRatio, height * resizeRatio);\n                const /** @type {?} */ quality = Math.min(1, Math.max(0, this.imageQuality / 100));\n                const /** @type {?} */ croppedImage = cropCanvas.toDataURL('image/' + this.format, quality);\n                if (croppedImage.length > 10) {\n                    this.imageCropped.emit(croppedImage);\n                }\n            }\n        }\n    }\n/**\n * @param {?} width\n * @return {?}\n */\nprivate getResizeRatio(width: number): number {\n        return this.resizeToWidth > 0 && (!this.onlyScaleDown || width > this.resizeToWidth)\n            ? this.resizeToWidth / width\n            : 1;\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate getClientX(event: any) {\n        return event.clientX != null ? event.clientX : event.touches[0].clientX;\n    }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate getClientY(event: any) {\n        return event.clientY != null ? event.clientY : event.touches[0].clientY;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'image-cropper',\n    template: `\n      <div>\n          <img\n              [src]=\"safeImgDataUrl\"\n              [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\n              (load)=\"imageLoadedInView()\"\n              class=\"source-image\"\n          />\n          <div class=\"cropper\"\n               [style.top.px]=\"cropper.y1\"\n               [style.left.px]=\"cropper.x1\"\n               [style.width.px]=\"cropper.x2 - cropper.x1\"\n               [style.height.px]=\"cropper.y2 - cropper.y1\"\n               [style.margin-left]=\"marginLeft\"\n               [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\n          >\n              <div\n                  (mousedown)=\"startMove($event, 'move')\"\n                  (touchstart)=\"startMove($event, 'move')\"\n                  class=\"move\"\n              >&nbsp;</div>\n              <span\n                  class=\"resize topleft\"\n                  (mousedown)=\"startMove($event, 'resize', 'topleft')\"\n                  (touchstart)=\"startMove($event, 'resize', 'topleft')\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize top\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize topright\"\n                  (mousedown)=\"startMove($event, 'resize', 'topright')\"\n                  (touchstart)=\"startMove($event, 'resize', 'topright')\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize right\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize bottomright\"\n                  (mousedown)=\"startMove($event, 'resize', 'bottomright')\"\n                  (touchstart)=\"startMove($event, 'resize', 'bottomright')\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize bottom\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize bottomleft\"\n                  (mousedown)=\"startMove($event, 'resize', 'bottomleft')\"\n                  (touchstart)=\"startMove($event, 'resize', 'bottomleft')\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize left\"\n              ><span class=\"square\"></span></span>\n              <span\n                  class=\"resize-bar top\"\n                  (mousedown)=\"startMove($event, 'resize', 'top')\"\n                  (touchstart)=\"startMove($event, 'resize', 'top')\"\n              ></span>\n              <span\n                  class=\"resize-bar right\"\n                  (mousedown)=\"startMove($event, 'resize', 'right')\"\n                  (touchstart)=\"startMove($event, 'resize', 'right')\"\n              ></span>\n              <span\n                  class=\"resize-bar bottom\"\n                  (mousedown)=\"startMove($event, 'resize', 'bottom')\"\n                  (touchstart)=\"startMove($event, 'resize', 'bottom')\"\n              ></span>\n              <span\n                  class=\"resize-bar left\"\n                  (mousedown)=\"startMove($event, 'resize', 'left')\"\n                  (touchstart)=\"startMove($event, 'resize', 'left')\"\n              ></span>\n          </div>\n      </div>\n    `,\n    styles: [`\n      :host {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        position: relative;\n        width: 100%;\n        max-width: 100%;\n        max-height: 100%;\n        overflow: hidden;\n        padding: 5px;\n        text-align: center;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none; }\n        :host > div {\n          position: relative;\n          width: 100%; }\n          :host > div .source-image {\n            max-width: 100%;\n            max-height: 100%; }\n        :host .cropper {\n          position: absolute;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          color: #53535C !important;\n          background: transparent !important;\n          outline-color: rgba(255, 255, 255, 0.3);\n          outline-width: 1000px;\n          outline-style: solid;\n          -ms-touch-action: none;\n              touch-action: none; }\n          :host .cropper:after {\n            position: absolute;\n            content: '';\n            top: 0;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            pointer-events: none;\n            border: dashed 1px;\n            opacity: .75;\n            color: inherit;\n            z-index: 1; }\n          :host .cropper .move {\n            width: 100%;\n            cursor: move;\n            border: 1px solid rgba(255, 255, 255, 0.5); }\n          :host .cropper .resize {\n            position: absolute;\n            display: inline-block;\n            line-height: 6px;\n            padding: 8px;\n            opacity: .85;\n            z-index: 1; }\n            :host .cropper .resize .square {\n              display: inline-block;\n              background: #53535C !important;\n              width: 6px;\n              height: 6px;\n              border: 1px solid rgba(255, 255, 255, 0.5); }\n            :host .cropper .resize.topleft {\n              top: -12px;\n              left: -12px;\n              cursor: nw-resize; }\n            :host .cropper .resize.top {\n              top: -12px;\n              left: calc(50% - 12px);\n              cursor: n-resize; }\n            :host .cropper .resize.topright {\n              top: -12px;\n              right: -12px;\n              cursor: ne-resize; }\n            :host .cropper .resize.right {\n              top: calc(50% - 12px);\n              right: -12px;\n              cursor: e-resize; }\n            :host .cropper .resize.bottomright {\n              bottom: -12px;\n              right: -12px;\n              cursor: se-resize; }\n            :host .cropper .resize.bottom {\n              bottom: -12px;\n              left: calc(50% - 12px);\n              cursor: s-resize; }\n            :host .cropper .resize.bottomleft {\n              bottom: -12px;\n              left: -12px;\n              cursor: sw-resize; }\n            :host .cropper .resize.left {\n              top: calc(50% - 12px);\n              left: -12px;\n              cursor: w-resize; }\n          :host .cropper .resize-bar {\n            position: absolute;\n            z-index: 1; }\n            :host .cropper .resize-bar.top {\n              top: -11px;\n              left: 11px;\n              width: calc(100% - 22px);\n              height: 22px;\n              cursor: n-resize; }\n            :host .cropper .resize-bar.right {\n              top: 11px;\n              right: -11px;\n              height: calc(100% - 22px);\n              width: 22px;\n              cursor: e-resize; }\n            :host .cropper .resize-bar.bottom {\n              bottom: -11px;\n              left: 11px;\n              width: calc(100% - 22px);\n              height: 22px;\n              cursor: s-resize; }\n            :host .cropper .resize-bar.left {\n              top: 11px;\n              left: -11px;\n              height: calc(100% - 22px);\n              width: 22px;\n              cursor: w-resize; }\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: DomSanitizer, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'imageChangedEvent': [{ type: Input },],\n'imageBase64': [{ type: Input },],\n'format': [{ type: Input },],\n'maintainAspectRatio': [{ type: Input },],\n'aspectRatio': [{ type: Input },],\n'resizeToWidth': [{ type: Input },],\n'onlyScaleDown': [{ type: Input },],\n'imageQuality': [{ type: Input },],\n'cropper': [{ type: Input },],\n'imageCropped': [{ type: Output },],\n'imageLoaded': [{ type: Output },],\n'loadImageFailed': [{ type: Output },],\n'imageResizedInView': [{ type: HostListener, args: ['window:resize', ['$event'], ] },],\n'moveImg': [{ type: HostListener, args: ['document:mousemove', ['$event'], ] },{ type: HostListener, args: ['document:touchmove', ['$event'], ] },],\n'moveStop': [{ type: HostListener, args: ['document:mouseup', ['$event'], ] },{ type: HostListener, args: ['document:touchend', ['$event'], ] },],\n};\n}\n\nfunction ImageCropperComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nImageCropperComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageCropperComponent.ctorParameters;\n/** @type {?} */\nImageCropperComponent.propDecorators;\n/** @type {?} */\nImageCropperComponent.prototype.originalImage;\n/** @type {?} */\nImageCropperComponent.prototype.moveStart;\n/** @type {?} */\nImageCropperComponent.prototype.maxSize;\n/** @type {?} */\nImageCropperComponent.prototype.originalSize;\n/** @type {?} */\nImageCropperComponent.prototype.safeImgDataUrl;\n/** @type {?} */\nImageCropperComponent.prototype.marginLeft;\n/** @type {?} */\nImageCropperComponent.prototype.imageVisible;\n/** @type {?} */\nImageCropperComponent.prototype.format;\n/** @type {?} */\nImageCropperComponent.prototype.maintainAspectRatio;\n/** @type {?} */\nImageCropperComponent.prototype.aspectRatio;\n/** @type {?} */\nImageCropperComponent.prototype.resizeToWidth;\n/** @type {?} */\nImageCropperComponent.prototype.onlyScaleDown;\n/** @type {?} */\nImageCropperComponent.prototype.imageQuality;\n/** @type {?} */\nImageCropperComponent.prototype.cropper;\n/** @type {?} */\nImageCropperComponent.prototype.imageCropped;\n/** @type {?} */\nImageCropperComponent.prototype.imageLoaded;\n/** @type {?} */\nImageCropperComponent.prototype.loadImageFailed;\n/** @type {?} */\nImageCropperComponent.prototype.elementRef;\n/** @type {?} */\nImageCropperComponent.prototype.sanitizer;\n/** @type {?} */\nImageCropperComponent.prototype.cd;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ImageCropperComponent } from './image-cropper.component';\nexport class ImageCropperModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        ImageCropperComponent\n    ],\n    exports: [\n        ImageCropperComponent\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ImageCropperModule_tsickle_Closure_declarations() {\n/** @type {?} */\nImageCropperModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageCropperModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["ImageCropperComponent","elementRef","sanitizer","cd","this","marginLeft","imageVisible","format","maintainAspectRatio","aspectRatio","resizeToWidth","onlyScaleDown","imageQuality","cropper","x1","y1","x2","y2","imageCropped","EventEmitter","imageLoaded","loadImageFailed","initCropper","Object","defineProperty","prototype","set","event","target","files","length","loadImage","imageBase64","loadBase64Image","ngOnChanges","changes","_this","setTimeout","setMaxSize","checkCropperPosition","crop","markForCheck","originalImage","safeImgDataUrl","moveStart","active","type","position","clientX","clientY","maxSize","width","height","originalSize","fileReader","FileReader","onload","ev","result","emit","readAsDataURL","Image","bypassSecurityTrustResourceUrl","src","imageLoadedInView","resetCropperPosition","imageResizedInView","resizeCropperPosition","displayedImage","nativeElement","querySelector","offsetWidth","offsetHeight","cropperHeight","cropperWidth","startMove","moveType","getClientX","getClientY","assign","moveImg","stopPropagation","preventDefault","move","resize","el","bypassSecurityTrustStyle","maintainSize","moveStop","diffX","diffY","Math","min","max","checkAspectRatio","overflowX","overflowY","ratio","left","round","top","resizeRatio","getResizeRatio","cropCanvas","document","createElement","ctx","getContext","drawImage","quality","croppedImage","toDataURL","touches","decorators","Component","args","selector","template","styles","changeDetection","ChangeDetectionStrategy","OnPush","ctorParameters","ElementRef","DomSanitizer","ChangeDetectorRef","propDecorators","imageChangedEvent","Input","Output","HostListener","ImageCropperModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"+YA4BA,IAAAA,EAAA,WAiDA,SAAAA,EANwBC,EAAgCC,EAAiCC,GAAjEC,KAAxBH,WAAwBA,EAAgCG,KAAxDF,UAAwDA,EAAiCE,KAAzFD,GAAyFA,EApCrFC,KAAJC,WAEqC,MADjCD,KAAJE,cAEmB,EAkBdF,KAALG,OAFuD,MAGlDH,KAALI,qBAF2B,EAGtBJ,KAALK,YAFmB,EAGdL,KAALM,cAFqB,EAGhBN,KAALO,eAFqB,EAGhBP,KAALQ,aAFoB,GAGfR,KAALS,SACQC,IAFI,IAGJC,IAFI,IAGJC,GAFI,IAGJC,GAFI,KAKPb,KAALc,aAFoB,IAAIC,EAAAA,aAGnBf,KAALgB,YAFmB,IAAID,EAAAA,aAGlBf,KAALiB,gBAFuB,IAAIF,EAAAA,aAWnBf,KAAKkB,qBAvCbC,OAAAC,eAAKxB,EAALyB,UAAA,qBAAAC,IAAA,SAAKC,GACGvB,KAAKkB,cACDK,GAASA,EAAMC,QAAUD,EAAMC,OAAOC,OAASF,EAAMC,OAAOC,MAAMC,OAAS,GAC3E1B,KAAK2B,UAAUJ,oCAO3BJ,OAAAC,eAFKxB,EAELyB,UAAA,eAAAC,IAAA,SAFKM,GAGG5B,KAFKkB,cAGLlB,KAFK6B,gBAAgBD,oCAmC7BhC,EAAAyB,UAAAS,YAAA,SAXKC,GAWL,IAAAC,EAAAhC,KACY+B,EAXS,SAYTE,WAXW,WAYPD,EAXKE,aAYLF,EAXKG,sBAAqB,GAY1BH,EAXKI,OAYLJ,EAXKjC,GAAGsC,kBAKnBzC,EAALyB,UAAAH,YAAK,WAcGlB,KAbKE,cAAe,EAcpBF,KAbKsC,cAAgB,KAcrBtC,KAbKuC,eAAiB,qHAgBtBvC,KAbKwC,WAcDC,QAbQ,EAcRC,KAbM,KAcNC,SAbU,KAcVjC,GAbI,EAcJC,GAbI,EAcJC,GAbI,EAcJC,GAbI,EAcJ+B,QAbS,EAcTC,QAbS,GAeb7C,KAbK8C,SAcDC,MAbO,EAcPC,OAbQ,GAeZhD,KAbKiD,cAcDF,MAbO,EAcPC,OAbQ,GAeZhD,KAbKS,QAAQC,IAAK,IAclBV,KAbKS,QAAQE,IAAK,IAclBX,KAbKS,QAAQG,GAAK,IAclBZ,KAbKS,QAAQI,GAAK,KAmB1BjB,EAAAyB,UAAAM,UAAA,SAhBKJ,GAgBL,IAAAS,EAAAhC,KAfckD,EAAa,IAAIC,WAiBvBD,EAhBWE,OAAS,SAAAC,GACmB,eAgB/B9B,EAhBMC,OAAOC,MAAM,GAAGiB,MACS,cAgB/BnB,EAhBMC,OAAOC,MAAM,GAAGiB,MACS,cAgB/BnB,EAhBMC,OAAOC,MAAM,GAAGiB,MACS,cAgB/BnB,EAhBMC,OAAOC,MAAM,GAAGiB,KAiBtBV,EAhBKH,gBAAgBwB,EAAG7B,OAAO8B,QAkB/BtB,EAhBKf,gBAAgBsC,QAmB7BL,EAhBWM,cAAcjC,EAAMC,OAAOC,MAAM,KAG/C7B,EAALyB,UAAAQ,gBAAK,SAAAD,GAAA,IAALI,EAAAhC,KAoBQA,KAnBKsC,cAAgB,IAAImB,MAoBzBzD,KAnBKsC,cAAcc,OAAS,WAoBxBpB,EAnBKiB,aAAaF,MAAQf,EAAKM,cAAcS,MAoB7Cf,EAnBKiB,aAAaD,OAAShB,EAAKM,cAAcU,OAoB9ChB,EAnBKjC,GAAGsC,gBAqBZrC,KAnBKuC,eAAiBvC,KAAKF,UAAU4D,+BAA+B9B,GAoBpE5B,KAnBKsC,cAAcqB,IAAM/B,GAwBjChC,EAAAyB,UAAAuC,kBAAA,WAAA,IAAA5B,EAAAhC,KApBkC,MAqBtBA,KArBKsC,gBAsBLtC,KArBKgB,YAAYuC,OAsBjBtB,WArBW,WAsBPD,EArBKE,aAsBLF,EArBK6B,uBAsBL7B,EArBKjC,GAAGsC,mBA6BxBzC,EAAAyB,UAAAyC,mBAAA,SAvBKvC,GAwBGvB,KAvBK+D,wBAwBL/D,KAvBKkC,cAGRtC,EAALyB,UAAA0C,sBAAK,WA0BG,IAzBMC,EAAiBhE,KAAKH,WAAWoE,cAAcC,cAAc,iBA0B/DlE,KAzBK8C,QAAQC,QAAUiB,EAAeG,aAAenE,KAAK8C,QAAQE,SAAWgB,EAAeI,eA0B5FpE,KAzBKS,QAAQC,GAAKV,KAAKS,QAAQC,GAAKsD,EAAeG,YAAcnE,KAAK8C,QAAQC,MA0B9E/C,KAzBKS,QAAQG,GAAKZ,KAAKS,QAAQG,GAAKoD,EAAeG,YAAcnE,KAAK8C,QAAQC,MA0B9E/C,KAzBKS,QAAQE,GAAKX,KAAKS,QAAQE,GAAKqD,EAAeI,aAAepE,KAAK8C,QAAQE,OA0B/EhD,KAzBKS,QAAQI,GAAKb,KAAKS,QAAQI,GAAKmD,EAAeI,aAAepE,KAAK8C,QAAQE,SAItFpD,EAALyB,UAAAwC,qBAAK,WA4BG,IA3BMG,EAAiBhE,KAAKH,WAAWoE,cAAcC,cAAc,iBA4BnE,GAAIF,EA3BeG,YAAcnE,KAAKK,YAAc2D,EAAeI,aAAc,CA4B7EpE,KA3BKS,QAAQC,GAAK,EA4BlBV,KA3BKS,QAAQG,GAAKoD,EAAeG,YA4BjC,IA3BME,EAAgBL,EAAeG,YAAcnE,KAAKK,YA4BxDL,KA3BKS,QAAQE,IAAKqD,EAAgBI,aAAeC,GAAiB,EA4BlErE,KA3BKS,QAAQI,GAAKb,KAAKS,QAAQE,GAAK0D,MACjC,CA4BHrE,KA3BKS,QAAQE,GAAK,EA4BlBX,KA3BKS,QAAQI,GAAKmD,EAAeI,aA4BjC,IA3BME,EAAeN,EAAeI,aAAepE,KAAKK,YA4BxDL,KA3BKS,QAAQC,IAAKsD,EAAgBG,YAAcG,GAAgB,EA4BhEtE,KA3BKS,QAAQG,GAAKZ,KAAKS,QAAQC,GAAK4D,EA6BxCtE,KA3BKoC,OA4BLpC,KA3BKE,cAAe,GAmC5BN,EAAAyB,UAAAkD,UAAA,SAhCKhD,EAAAiD,EAAA7B,QAAL,IAAAA,IAAKA,EAAL,MAiCQ3C,KAhCKwC,UAAUC,QAAS,EAiCxBzC,KAhCKwC,UAAUE,KAAO8B,EAiCtBxE,KAhCKwC,UAAUG,SAAWA,EAiC1B3C,KAhCKwC,UAAUI,QAAU5C,KAAKyE,WAAWlD,GAiCzCvB,KAhCKwC,UAAUK,QAAU7C,KAAK0E,WAAWnD,GAiCzCJ,OAhCOwD,OAAO3E,KAAKwC,UAAWxC,KAAKS,SAiCnCT,KAhCKD,GAAGsC,gBAsChBzC,EAAAyB,UAAAuD,QAAA,SAjCKrD,GAkCOvB,KAjCKwC,UAAUC,SAkCflB,EAjCMsD,kBAkCNtD,EAjCMuD,iBAkCN9E,KAjCKkC,aACuB,SAiCxBlC,KAjCKwC,UAAUE,MAkCf1C,KAjCK+E,KAAKxD,GAkCVvB,KAjCKmC,sBAAqB,IACK,WAA5BnC,KAASwC,UAAUE,OAkCtB1C,KAjCKgF,OAAOzD,GAkCZvB,KAjCKmC,sBAAqB,IAmC9BnC,KAjCKD,GAAGsC,iBAIfzC,EAALyB,UAAAa,WAAK,WAoCG,IAnCM+C,EAAKjF,KAAKH,WAAWoE,cAAcC,cAAc,iBAoCvDlE,KAnCK8C,QAAQC,MAAQkC,EAAGd,YAoCxBnE,KAnCK8C,QAAQE,OAASiC,EAAGb,aAoCzBpE,KAnCKC,WAAaD,KAAKF,UAAUoF,yBAAyB,cAAgBlF,KAAK8C,QAAQC,MAAQ,EAAI,QAGtGnD,EAALyB,UAAAc,qBAAK,SAAAgD,QAAL,IAAAA,IAAKA,GAAL,GAuCYnF,KAtCKS,QAAQC,GAAK,IAuClBV,KAtCKS,QAAQG,IAAMuE,EAAenF,KAAKS,QAAQC,GAAK,EAuCpDV,KAtCKS,QAAQC,GAAK,GAwClBV,KAtCKS,QAAQE,GAAK,IAuClBX,KAtCKS,QAAQI,IAAMsE,EAAenF,KAAKS,QAAQE,GAAK,EAuCpDX,KAtCKS,QAAQE,GAAK,GAwClBX,KAtCKS,QAAQG,GAAKZ,KAAK8C,QAAQC,QAuC/B/C,KAtCKS,QAAQC,IAAMyE,EAAenF,KAAMS,QAAQG,GAAKZ,KAAK8C,QAAQC,MAAS,EAuC3E/C,KAtCKS,QAAQG,GAAKZ,KAAK8C,QAAQC,OAwC/B/C,KAtCKS,QAAQI,GAAKb,KAAK8C,QAAQE,SAuC/BhD,KAtCKS,QAAQE,IAAMwE,EAAenF,KAAMS,QAAQI,GAAKb,KAAK8C,QAAQE,OAAU,EAuC5EhD,KAtCKS,QAAQI,GAAKb,KAAK8C,QAAQE,SA6C3CpD,EAAAyB,UAAA+D,SAAA,SAvCK7D,GAwCOvB,KAvCKwC,UAAUC,SAwCfzC,KAvCKwC,UAAUC,QAAS,EAwCxBzC,KAvCKoC,OAwCLpC,KAvCKD,GAAGsC,iBAIfzC,EAALyB,UAAA0D,KAAK,SAAAxD,GA2CG,IA1CM8D,EAAQrF,KAAKyE,WAAWlD,GAASvB,KAAKwC,UAAUI,QAChD0C,EAAQtF,KAAK0E,WAAWnD,GAASvB,KAAKwC,UAAUK,QA4CtD7C,KA1CKS,QAAQC,GAAKV,KAAKwC,UAAU9B,GAAK2E,EA2CtCrF,KA1CKS,QAAQE,GAAKX,KAAKwC,UAAU7B,GAAK2E,EA2CtCtF,KA1CKS,QAAQG,GAAKZ,KAAKwC,UAAU5B,GAAKyE,EA2CtCrF,KA1CKS,QAAQI,GAAKb,KAAKwC,UAAU3B,GAAKyE,GAGzC1F,EAALyB,UAAA2D,OAAK,SAAAzD,GA8CG,IA7CM8D,EAAQrF,KAAKyE,WAAWlD,GAASvB,KAAKwC,UAAUI,QAChD0C,EAAQtF,KAAK0E,WAAWnD,GAASvB,KAAKwC,UAAUK,QA8CtD,OAAQ7C,KA7CKwC,UAAUG,UA8CnB,IA7CK,OA8CD3C,KA7CKS,QAAQC,GAAK6E,KAAKC,IAAIxF,KAAKwC,UAAU9B,GAAK2E,EAAOrF,KAAKS,QAAQG,GAAK,IA8CxE,MACJ,IA7CK,UA8CDZ,KA7CKS,QAAQC,GAAK6E,KAAKC,IAAIxF,KAAKwC,UAAU9B,GAAK2E,EAAOrF,KAAKS,QAAQG,GAAK,IA8CxEZ,KA7CKS,QAAQE,GAAK4E,KAAKC,IAAIxF,KAAKwC,UAAU7B,GAAK2E,EAAOtF,KAAKS,QAAQI,GAAK,IA8CxE,MACJ,IA7CK,MA8CDb,KA7CKS,QAAQE,GAAK4E,KAAKC,IAAIxF,KAAKwC,UAAU7B,GAAK2E,EAAOtF,KAAKS,QAAQI,GAAK,IA8CxE,MACJ,IA7CK,WA8CDb,KA7CKS,QAAQG,GAAK2E,KAAKE,IAAIzF,KAAKwC,UAAU5B,GAAKyE,EAAOrF,KAAKS,QAAQC,GAAK,IA8CxEV,KA7CKS,QAAQE,GAAK4E,KAAKC,IAAIxF,KAAKwC,UAAU7B,GAAK2E,EAAOtF,KAAKS,QAAQI,GAAK,IA8CxE,MACJ,IA7CK,QA8CDb,KA7CKS,QAAQG,GAAK2E,KAAKE,IAAIzF,KAAKwC,UAAU5B,GAAKyE,EAAOrF,KAAKS,QAAQC,GAAK,IA8CxE,MACJ,IA7CK,cA8CDV,KA7CKS,QAAQG,GAAK2E,KAAKE,IAAIzF,KAAKwC,UAAU5B,GAAKyE,EAAOrF,KAAKS,QAAQC,GAAK,IA8CxEV,KA7CKS,QAAQI,GAAK0E,KAAKE,IAAIzF,KAAKwC,UAAU3B,GAAKyE,EAAOtF,KAAKS,QAAQE,GAAK,IA8CxE,MACJ,IA7CK,SA8CDX,KA7CKS,QAAQI,GAAK0E,KAAKE,IAAIzF,KAAKwC,UAAU3B,GAAKyE,EAAOtF,KAAKS,QAAQE,GAAK,IA8CxE,MACJ,IA7CK,aA8CDX,KA7CKS,QAAQC,GAAK6E,KAAKC,IAAIxF,KAAKwC,UAAU9B,GAAK2E,EAAOrF,KAAKS,QAAQG,GAAK,IA8CxEZ,KA7CKS,QAAQI,GAAK0E,KAAKE,IAAIzF,KAAKwC,UAAU3B,GAAKyE,EAAOtF,KAAKS,QAAQE,GAAK,IAiD5EX,KA7CKI,qBA8CLJ,KA7CK0F,oBAIZ9F,EAALyB,UAAAqE,iBAAK,WAgDG,IA/CIC,EAAY,EACZC,EAAY,EAiDhB,OAAQ5F,KA/CKwC,UAAUG,UAgDnB,IA/CK,MAgDD3C,KA/CKS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAKV,KAAMS,QAAQI,GAAKb,KAAKS,QAAQE,IAAMX,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAIzF,KAAKS,QAAQG,GAAKZ,KAAK8C,QAAQC,MAAO,GAgD3D6C,EA/CYL,KAAKE,IAAI,EAAIzF,KAAKS,QAAQE,GAAI,IAgDtCgF,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQG,IAAMgF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQE,IAAMiF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAY3F,KAAKK,aAiDjG,MACJ,IA/CK,SAgDDL,KA/CKS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAKV,KAAMS,QAAQI,GAAKb,KAAKS,QAAQE,IAAMX,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAIzF,KAAKS,QAAQG,GAAKZ,KAAK8C,QAAQC,MAAO,GAgD3D6C,EA/CYL,KAAKE,IAAIzF,KAAKS,QAAQI,GAAKb,KAAK8C,QAAQE,OAAQ,IAgDxD2C,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQG,IAAMgF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQI,IAAM+E,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAa3F,KAAKK,aAiDlG,MACJ,IA/CK,UAgDDL,KA/CKS,QAAQE,GAAKX,KAAKS,QAAQI,IAAKb,KAAMS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAMV,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAI,EAAIzF,KAAKS,QAAQC,GAAI,GAgD1CkF,EA/CYL,KAAKE,IAAI,EAAIzF,KAAKS,QAAQE,GAAI,IAgDtCgF,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQC,IAAMkF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQE,IAAMiF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAY3F,KAAKK,aAiDjG,MACJ,IA/CK,WAgDDL,KA/CKS,QAAQE,GAAKX,KAAKS,QAAQI,IAAKb,KAAMS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAMV,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAIzF,KAAKS,QAAQG,GAAKZ,KAAK8C,QAAQC,MAAO,GAgD3D6C,EA/CYL,KAAKE,IAAI,EAAIzF,KAAKS,QAAQE,GAAI,IAgDtCgF,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQG,IAAMgF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQE,IAAMiF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAY3F,KAAKK,aAiDjG,MACJ,IA/CK,QAgDL,IA/CK,cAgDDL,KA/CKS,QAAQI,GAAKb,KAAKS,QAAQE,IAAKX,KAAMS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAMV,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAIzF,KAAKS,QAAQG,GAAKZ,KAAK8C,QAAQC,MAAO,GAgD3D6C,EA/CYL,KAAKE,IAAIzF,KAAKS,QAAQI,GAAKb,KAAK8C,QAAQE,OAAQ,IAgDxD2C,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQG,IAAMgF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQI,IAAM+E,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAY3F,KAAKK,aAiDjG,MACJ,IA/CK,OAgDL,IA/CK,aAgDDL,KA/CKS,QAAQI,GAAKb,KAAKS,QAAQE,IAAKX,KAAMS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAMV,KAAKK,YAgD/EsF,EA/CYJ,KAAKE,IAAI,EAAIzF,KAAKS,QAAQC,GAAI,GAgD1CkF,EA/CYL,KAAKE,IAAIzF,KAAKS,QAAQI,GAAKb,KAAK8C,QAAQE,OAAQ,IAgDxD2C,EA/CY,GAAKC,EAAY,KAgD7B5F,KA/CKS,QAAQC,IAAMkF,EAAa5F,KAAKK,YAAesF,EAAYC,EAAa5F,KAAKK,YAAesF,EAgDjG3F,KA/CKS,QAAQI,IAAM+E,EAAa5F,KAAKK,YAAesF,EAAYC,EAAYD,EAAY3F,KAAKK,eAM5GT,EAALyB,UAAAe,KAAK,WAkDG,IAjDM4B,EAAiBhE,KAAKH,WAAWoE,cAAcC,cAAc,iBAkDnE,GAAIF,GAjDwC,MAAtBhE,KAAKsC,cAAuB,CAkD9C,IAjDMuD,EAAQ7F,KAAKiD,aAAaF,MAAQiB,EAAeG,YACjD2B,EAAOP,KAAKQ,MAAM/F,KAAKS,QAAQC,GAAKmF,GACpCG,EAAMT,KAAKQ,MAAM/F,KAAKS,QAAQE,GAAKkF,GACnC9C,EAAQwC,KAAKQ,OAAO/F,KAAKS,QAAQG,GAAKZ,KAAKS,QAAQC,IAAMmF,GACzD7C,EAASuC,KAAKQ,OAAO/F,KAAKS,QAAQI,GAAKb,KAAKS,QAAQE,IAAMkF,GAC1DI,EAAcjG,KAAKkG,eAAenD,GAClCoD,EAAaC,SAASC,cAAc,UAkD1CF,EAjDWpD,MAAQA,EAAQkD,EAkD3BE,EAjDWnD,OAASA,EAASiD,EAkD7B,IAjDMK,EAAMH,EAAWI,WAAW,MAkDlC,GAAID,EAjDK,CAkDLA,EAjDIE,UAAUxG,KAAKsC,cAAewD,EAAME,EAAKjD,EAAOC,EAAQ,EAAG,EAAGD,EAAQkD,EAAajD,EAASiD,GAkDhG,IAjDMQ,EAAUlB,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGzF,KAAKQ,aAAe,MACtDkG,EAAeP,EAAWQ,UAAU,SAAW3G,KAAKG,OAAQsG,GAkD9DC,EAjDahF,OAAS,IAkDtB1B,KAjDKc,aAAayC,KAAKmD,MAMtC9G,EAALyB,UAAA6E,eAAK,SAAAnD,GAqDG,OApDO/C,KAAKM,cAAgB,KAAON,KAAKO,eAAiBwC,EAAQ/C,KAAKM,eAChEN,KAAKM,cAAgByC,EACrB,GAGTnD,EAALyB,UAAAoD,WAAK,SAAAlD,GAwDG,OAvDwB,MAAjBA,EAAMqB,QAAkBrB,EAAMqB,QAAUrB,EAAMqF,QAAQ,GAAGhE,SAGnEhD,EAALyB,UAAAqD,WAAK,SAAAnD,GA2DG,OA1DwB,MAAjBA,EAAMsB,QAAkBtB,EAAMsB,QAAUtB,EAAMqF,QAAQ,GAAG/D,WArXxE,GAuXOjD,EAAPiH,aACEnE,KAAMoE,EAAAA,UAAWC,OA2DfC,SA1DU,gBA2DVC,SA1DU,yxGAsIVC,QA1DQ,o9HAqLRC,gBA1DiBC,EAAAA,wBAAwBC,WAI5CzH,EAAD0H,eAAC,WAAA,QA6DA5E,KAAM6E,EAAAA,aACN7E,KAAM8E,EAAAA,eACN9E,KAAM+E,EAAAA,qBA1DA7H,EAAP8H,gBA6DAC,oBA5DwBjF,KAAMkF,EAAAA,QA6D9BhG,cA5DkBc,KAAMkF,EAAAA,QA6DxBzH,SA5DauC,KAAMkF,EAAAA,QA6DnBxH,sBA5D0BsC,KAAMkF,EAAAA,QA6DhCvH,cA5DkBqC,KAAMkF,EAAAA,QA6DxBtH,gBA5DoBoC,KAAMkF,EAAAA,QA6D1BrH,gBA5DoBmC,KAAMkF,EAAAA,QA6D1BpH,eA5DmBkC,KAAMkF,EAAAA,QA6DzBnH,UA5DciC,KAAMkF,EAAAA,QA6DpB9G,eA5DmB4B,KAAMmF,EAAAA,SA6DzB7G,cA5DkB0B,KAAMmF,EAAAA,SA6DxB5G,kBA5DsByB,KAAMmF,EAAAA,SA6D5B/D,qBA5DyBpB,KAAMoF,EAAAA,aAAcf,MAAM,iBAAkB,aA6DrEnC,UA5DclC,KAAMoF,EAAAA,aAAcf,MAAM,sBAAuB,aAAkBrE,KAAMoF,EAAAA,aAAcf,MAAM,sBAAuB,aA6DlI3B,WA5De1C,KAAMoF,EAAAA,aAAcf,MAAM,oBAAqB,aAAkBrE,KAAMoF,EAAAA,aAAcf,MAAM,qBAAsB,cClnBhI,IAAAgB,EAAA,kBAAA,aAAA,GAEwCA,EAAxClB,aACEnE,KAAMsF,EAAAA,SAAUjB,OADdkB,SACIC,EAAAA,cAEJC,cACIvI,GAEJwI,SACIxI,OAOPmI,EAADT,eAAC,WAAA"}
